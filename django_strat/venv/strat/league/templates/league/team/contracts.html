{% extends "./base.html" %}

{% load humanize %}
{% load players_tags %}
{% block content %}
<table>
    <tr>
        <th>Player</th>
        <th>Contract</th>
        <th>{{team.year}}</th>
        <th>{{team.year|add:"+1"}}</th>
        <th>{{team.year|add:"+2"}}</th>
        <th>{{team.year|add:"+3"}}</th>
        <th>{{team.year|add:"+4"}}</th>
    </tr>
    {% for p in contracts %}
    <tr>
        <td><a href="{% url 'league:player_detail' p.player_id %}">{{p.player.last_name}}, {{p.player.first_name}}</a></td>
        <td align="center">{{p.display_contract}}</td>
        <td align="right">${{p.salary | intcomma}}</td>
        <td align="right">{{ p | plus_years:1 }}</td>
        <td align="right">{{ p | plus_years:2 }}</td>
        <td align="right">{{ p | plus_years:3 }}</td>
        <td align="right">{{ p | plus_years:4 }}</td>
    </tr>
    {% endfor %}
    {% for p in payroll %}
    <tr>
        <td colspan="2">{{p.notes}}</td>
        {% if p.adjustments.0 %}
            <td>${{p.adjustments.0|intcomma}}</td>
        {% else %}
            <td></td>
        {% endif %}
        {% if p.adjustments.1 %}
            <td>${{p.adjustments.1|intcomma}}</td>
        {% else %}
            <td></td>
        {% endif %}
        {% if p.adjustments.2 %}
            <td>${{p.adjustments.2|intcomma}}</td>
        {% else %}
            <td></td>
        {% endif %}
        {% if p.adjustments.3 %}
            <td>${{p.adjustments.3|intcomma}}</td>
        {% else %}
            <td></td>
        {% endif %}
        {% if p.adjustments.4 %}
            <td>${{p.adjustments.4|intcomma}}</td>
        {% else %}
            <td></td>
        {% endif %}
        {% if p.adjustments.5 %}
            <td>${{p.adjustments.5|intcomma}}</td>
        {% else %}
            <td></td>
        {% endif %}

    </tr>
    {% endfor %}
</table>
{% endblock %}